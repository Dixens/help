---

template:      article
reviewed:      2016-07-19
naviTitle:     Git deployment
title:         Deploy with Git on fortrabbit
lead:          Learn how to get your code up and running with a simple git push.
group:         deployment

otherVersionLinks:
    - git-old-app

keywords:
    - beginner
    - dashboard

tags:
     - git

seeAlsoLinks:
    - git
    - git-deployment
    - ssh-keys
    - deployment-architecture-video
    - git-submodules
    - deployment-file-v2
    - directory-structure
    - ssh-sftp-old-app
    - security
    - quirks


---

## Git ready

We assume that you have: [Git installed](git) locally and know the basics. We further assume that you know about [access methods](/access-methods) here on fortrabbit, so either have your SSH keys installed or your [Dashboard](/dashboard) password handy.

## Usage

Each fortrabbit App comes with its very own custom Git repo which you need to set as a Git remote in your local Git working copy. To deploy just push your code to that remotes master branch.

### Simple Git deployment workflow

```bash
# Cloning the (empty) app to register the remote origin master
$ git clone {{ssh-user}}@deploy.{{region}}.frbit.com:{{app-name}}.git

# go in the folder
$ cd {{app-name}}

# do stuff
$ echo '<?php echo "PHPower to the PHPeople";' >index.php

# push to deploy
$ git add index.php
$ git commit -am 'Intial commit'
$ git push -u origin master
```
after the deployment is done you can worship your work in the browser:  
[{{app-name}}.frb.io](https://{{app-name}}.frb.io)


### Other Git commands

```
# Using Git already? Add fortrabbit as additional remote:
$ git remote add fortrabbit {{ssh-user}}@deploy.{{region}}.frbit.com:{{app-name}}.git

# Reset the remote repo (delete remote Git repo & vendor folder):
$ ssh {{ssh-user}}@deploy.{{region}}.frbit.com:{{app-name}}.git reset
```


### Git with a GUI or IDE

You can also use a graphical interface like Tower, Sourctree, Gitbox - see the [official list of Git GUIs](https://git-scm.com/downloads/guis) – or an editor (PhpStorm …) to manage Git. You'll need these access credentials:

**SSH clone URL**:  
{{ssh-user}}@deploy.{{region}}.frbit.com:{{app-name}}

**SSH password**:  
{{ssh-password}}


<!--
| | |
|-|-|
| **SSH clone URL** | {{ssh-user}}@deploy.{{region}}.frbit.com:{{app-name}}              |
| **SSH password**  | {{ssh-password}}    |
-->





## Advanced usage

Still reading? Dig deeper!

### Behind the scenes

```nohighlight
┌─────────┐             ┌──────────┐             ┌───────────┐
│         │             │          │             │           │
│   You   ├──Git push───▶ Git repo ├───deploy────▶    App    │
│         │             │          │             │           │
└─────────┘             └──────────┘             └───────────┘
```

Your `git push` updates the Git remote on fortrabbit and triggers the build of a new release package. This new release package will then be distributed to all the Nodes your App runs on. All files on the Nodes will then be replaced by the ones contained in the release package. Check out [this video](deployment-architecture-video) to understand the flow.


### The branch name counts

While you can have as many Git branches you want, only changes in certain branches will be deployed. Besides the `master` Branch also any branch named like the App itself - `{{app-name}}`, if that's the name of your App - will be considered. The latter helps when working with [multi staging setups](multi-staging).

### Deployment file

Fine tune deployment configurations with the `fortrabbit.yml` deployment file: control the way Composer runs, define pre- & post-deploy scripts and more. You can find a full example [here](deployment-file-v2).

### Composer

[Composer](composer) install will always run after a successful `git push` - as long as both `composer.json` and `composer.lock` are present. Read on [here](composer).

### Private Git/Composer repos

You can also include your own private Composer repository as described [here](private-composer-repos).

### Large files

We don't actively enforce a file limit, but you should not put big binary files (> 2 MB) into your Git repo. It would bloat your repository and slows down deployment.


### Deployment release package

The release package is a gzipped archive which contains: the Apps Git repository + vendor folder + all files generated by pre or post deployment scripts. In short: compressed size of ``~/htdocs``.

To keep deployment fast for everyone the size of the release package is [limited](http://www.fortrabbit.com/specs#limits). You can find out the release package size locally by packaging the local copy of your App, including the `vendor` folder and anything else generated by your build scripts:

```bash
$ tar -zcf my-project.tar.gz {{app-name}}
$ ls -lh {{app-name}}.tar.gz
```

### Integrating with GitHub & Bitbucket

We don't have any fancy GitHub/Bitbucket integrations (yet). But it is easily possible to combine your fortrabbit repo with [GitHub](github) and [Bitbucket](bitbucket).
